# @AUTOGENERATED_STRING@
#
# Config file for the FooBar package
# ----------------------------------
# It defines the following variables
#  FOOBAR_INCLUDE_DIRS        - include directories for FooBar
#  FOOBAR_LIBRARIES           - libraries to link against
#  FOOBAR_EXECUTABLE          - the bar executable

#  On Windows, the following is defined
#  FOOBAR_RUNTIME_LIBRARIES   - the runtime libraries (if any)
#  FOOBAR_RUNTIME_DIR         - the runtime directory (if any)
#  FOOBAR_RUNTIME_DIR_DEBUG   - the runtime directory (if any)
#  FOOBAR_RUNTIME_DIR_RELEASE - the runtime directory (if any)

cmake_minimum_required(VERSION 2.8.9)
# Use DIRECTORY instead of PATH
#cmake_minimum_required(VERSION 2.8.12.2)

# Compute paths, FOOBAR_CMAKE_DIR is just a variable name, used in CMakeLists.txt
get_filename_component(FOOBAR_CMAKE_DIR "${CMAKE_CURRENT_LIST_FILE}" PATH)
set(FOOBAR_INCLUDE_DIRS "@CONF_INCLUDE_DIRS@")

# Our library dependencies (contains definitions for IMPORTED targets)
include("${FOOBAR_CMAKE_DIR}/FooBarTargets.cmake")

# These are IMPORTED targets created by FooBarTargets.cmake
set(FOOBAR_LIBRARIES foo)
set(FOOBAR_EXECUTABLE bar)

# JEM: For dynamic libraries, the following run path's are added
set(FOOBAR_RUNTIME_LIBRARIES   "")
set(FOOBAR_RUNTIME_DIR         "")
set(FOOBAR_RUNTIME_DIR_DEBUG   "")
set(FOOBAR_RUNTIME_DIR_RELEASE "")

# On Windows add run-time
if (WIN32)
  # Add runtime libraries - doesn't exist for installed version
  if (@FOOBAR_DYNAMIC_LINKING@)
    message("Foo is a dynamic library")
    # TODO: Question is this independent of Visual Studio and release?
    get_property(TMP TARGET foo PROPERTY IMPORTED_LOCATION_RELEASE)
    if ("${TMP}" STREQUAL "")
      # For installed libraries use relative path to FOOBAR_CMAKE_DIR
      set(FOOBAR_RUNTIME_DIR "@CONF_LIBRARY_DIRS@")
      set(FOOBAR_RUNTIME_DIR_RELEASE "@CONF_LIBRARY_DIRS@")
      set(FOOBAR_RUNTIME_DIR_DEBUG "@CONF_LIBRARY_DIRS@")
      set(FOOBAR_RUNTIME_LIBRARIES   "foo.dll")
    else()
      # For build tree configurations, multiple configurations are accessible
      get_filename_component(FOOBAR_RUNTIME_LIBRARIES   ${TMP} NAME)
      get_filename_component(FOOBAR_RUNTIME_DIR_RELEASE ${TMP} PATH)
      get_filename_component(FOOBAR_RUNTIME_DIR ${FOOBAR_RUNTIME_DIR_RELEASE} PATH)
      get_property(TMP TARGET foo PROPERTY IMPORTED_LOCATION_DEBUG)
      get_filename_component(FOOBAR_RUNTIME_DIR_DEBUG ${TMP} PATH)
    endif()
  else()
    message("Foo is a static library")
  endif()
endif()

